import{g as re,l as De,i as qt,s as Ct,w as me,a as zt,b as Tt,r as Bt,S as U,c as V,d as W,e as ue,f as d,t as O,h as L,j as g,k as mt,m as w,n as _,o as Ue,p as X,q as P,u as R,v as y,x as Et,y as Ne,z as je,A as It,B as Ot,C as ye,D as Be,E as T,F as B,G as Ee,H as $,I as k,J as E,K as H,$ as ee,L as Me,M as qe,N as Ce,O as ze,P as Z,Q as he,R as te,T as de,U as ne,V as Ve,W as oe,X as Rt,Y as We,Z as le,_ as ie,a0 as Oe,a1 as Dt,a2 as Fe,a3 as Ge,a4 as Nt,a5 as ht,a6 as dt,a7 as pe,a8 as ve,a9 as ke,aa as Pt}from"./vendor-4228fa34.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();const At="modulepreload",Ht=function(s){return"/weather-site/"+s},Ke={},Ut=function(e,t,n){if(!t||t.length===0)return e();const l=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Ht(i),i in Ke)return;Ke[i]=!0;const r=i.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!n)for(let c=l.length-1;c>=0;c--){const f=l[c];if(f.href===i&&(!r||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=r?"stylesheet":At,r||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),r)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})};function pt(s,e,t){let n=re(s);(n.version??0)!==t&&Object.keys(e).map(l=>parseInt(l)).filter(l=>l>n.version&&l<=t).sort().forEach(l=>{s.set("version",l),e[l](n,s)})}const vt={version:1,searches:[]},Vt={},be=De("cache",vt);function Wt(){pt(be,Vt,vt.version)}function $t(){return qt({tablet:!0})?"google":"osm"}const wt={version:3,theme:"system",locale:void 0,current_city:{lat:51.50853,lon:-.12574,name:"London",country:"United Kingdom"},tz:Intl.DateTimeFormat().resolvedOptions().timeZone,maps_provider:$t()},Ft={2:(s,e)=>{e.maps_provider=$t()},3:(s,e)=>{let[t,n]=s.current_city.name.split(", "),l=s.current_city;l.name=t,l.country=n||"",e.set("current_city",l)}},Y=De("settings",wt);function Gt(){pt(Y,Ft,wt.version)}const ge=me(!1),Qe=me(!1),Kt=me([]),Qt=me([]),Pe=me(""),ae=Ct("weather"),Je=De("w",{w:0});function Jt(){Wt(),Gt()}function _e(s){s instanceof Date||(s=new Date(s));const e=s.getHours(),t=s.getMinutes();return`${e}:${t<10?"0"+t:t}`}function yt(){return _e(new Date)}function Ze(){Pe.set(yt())}function Zt(){Pe.set(yt()),setTimeout(()=>{Ze(),setInterval(Ze,60*1e3)},(60-new Date().getSeconds())*1e3)}function Xt(s){return typeof s=="string"||s instanceof String}function Re(s){return Array.isArray(s)}function nl(s){return(s==null?void 0:s.constructor)===Object}const Yt=["n","ne","e","se","s","sw","w","nw"];function Xe(s){return Yt[Math.round(s/45)%8]}function xt(){return new Date().toLocaleDateString(Te(),{weekday:"long"})}function Te(){return re(Y).locale}function kt(s){re(ge)&&Kt.update(e=>[...e,s])}function Se(s,...e){re(ge)&&Qt.update(t=>[...t,{[s]:e.map(n=>Xt(n)?n:JSON.stringify(n)).join(" ")}])}const Le={info:"info",error:"error"},bt={en:"en","en-US":"en",ru:"ru","ru-RU":"ru"},Ye="en",en=[...new Set(Object.values(bt))];function tn(s){return bt[s]}const nn={en:"English",ru:"Русский"};async function sn(s){return(await fetch(s)).json()}function ln(s){for(let e of s)Bt(e,async()=>await sn(`locales/${e}.json`))}function rn(){Te()===void 0&&Y.set("locale",tn(zt())||Ye),ln(en),Tt({fallbackLocale:Ye,initialLocale:Te()})}const St=[{key:"osm",name:"OpenStreetMap",base_url:"http://www.openstreetmap.org/?"},{key:"google",name:"Google",base_url:"https://maps.google.com/?"}];function an(s,e,t){let n=new URLSearchParams;if(s==="osm")n.append("mlat",e),n.append("mlon",t);else if(s==="google")n.append("q",[e,t]);else return"";return St.find(i=>i.key===s).base_url+n.toString()}function xe(s,e,t){const n=s.slice();return n[5]=e[t],n}function et(s){let e,t=s[5].name+"",n,l;return{c(){e=d("option"),n=O(t),e.__value=l=s[5].value,je(e,e.__value)},m(i,r){w(i,e,r),_(e,n)},p(i,r){r&4&&t!==(t=i[5].name+"")&&P(n,t),r&4&&l!==(l=i[5].value)&&(e.__value=l,je(e,e.__value))},d(i){i&&y(e)}}}function on(s){let e,t,n,l,i,r,a,o=ue(s[2]),u=[];for(let c=0;c<o.length;c+=1)u[c]=et(xe(s,o,c));return{c(){e=d("span"),t=O(s[1]),n=O(":"),l=L(),i=d("select");for(let c=0;c<u.length;c+=1)u[c].c();g(e,"class","title svelte-c2avyo"),g(i,"name",s[1]),g(i,"id",s[1]),g(i,"class","svelte-c2avyo"),s[0]===void 0&&mt(()=>s[4].call(i))},m(c,f){w(c,e,f),_(e,t),_(e,n),w(c,l,f),w(c,i,f);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(i,null);Ue(i,s[0],!0),r||(a=[X(i,"change",s[4]),X(i,"change",s[3])],r=!0)},p(c,[f]){if(f&2&&P(t,c[1]),f&4){o=ue(c[2]);let h;for(h=0;h<o.length;h+=1){const m=xe(c,o,h);u[h]?u[h].p(m,f):(u[h]=et(m),u[h].c(),u[h].m(i,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}f&2&&g(i,"name",c[1]),f&2&&g(i,"id",c[1]),f&5&&Ue(i,c[0])},i:R,o:R,d(c){c&&(y(e),y(l),y(i)),Et(u,c),r=!1,Ne(a)}}}function un(s,e,t){let{title:n="",options:l=[],value:i=""}=e;function r(o){It.call(this,s,o)}function a(){i=Ot(this),t(0,i),t(2,l)}return s.$$set=o=>{"title"in o&&t(1,n=o.title),"options"in o&&t(2,l=o.options),"value"in o&&t(0,i=o.value)},[i,n,l,r,a]}class Ie extends U{constructor(e){super(),V(this,e,un,on,W,{title:1,options:2,value:0})}}function tt(s){let e,t=s[1]("settings.reload_required",{locale:s[2].locale})+"",n;return{c(){e=d("div"),n=O(t),g(e,"class","reload-required svelte-ma3q3m")},m(l,i){w(l,e,i),_(e,n)},p(l,i){i&6&&t!==(t=l[1]("settings.reload_required",{locale:l[2].locale})+"")&&P(n,t)},d(l){l&&y(e)}}}function cn(s){let e,t=s[1]("settings.title")+"",n,l,i,r,a,o,u,c,f,h,m,j,S,b,M,z=s[0]&&tt(s);function N(p){s[6](p)}let F={title:s[1]("settings.theme.title"),options:s[3]};s[2].theme!==void 0&&(F.value=s[2].theme),a=new Ie({props:F}),ye.push(()=>Be(a,"value",N));function Q(p){s[7](p)}let G={title:s[1]("settings.language.title"),options:s[4]};s[2].locale!==void 0&&(G.value=s[2].locale),f=new Ie({props:G}),ye.push(()=>Be(f,"value",Q)),f.$on("change",s[8]);function q(p){s[9](p)}let I={title:s[1]("settings.maps.title"),options:s[5]};return s[2].maps_provider!==void 0&&(I.value=s[2].maps_provider),S=new Ie({props:I}),ye.push(()=>Be(S,"value",q)),{c(){e=d("h3"),n=O(t),l=L(),z&&z.c(),i=L(),r=d("div"),T(a.$$.fragment),u=L(),c=d("div"),T(f.$$.fragment),m=L(),j=d("div"),T(S.$$.fragment)},m(p,v){w(p,e,v),_(e,n),w(p,l,v),z&&z.m(p,v),w(p,i,v),w(p,r,v),B(a,r,null),w(p,u,v),w(p,c,v),B(f,c,null),w(p,m,v),w(p,j,v),B(S,j,null),M=!0},p(p,[v]){(!M||v&2)&&t!==(t=p[1]("settings.title")+"")&&P(n,t),p[0]?z?z.p(p,v):(z=tt(p),z.c(),z.m(i.parentNode,i)):z&&(z.d(1),z=null);const K={};v&2&&(K.title=p[1]("settings.theme.title")),!o&&v&4&&(o=!0,K.value=p[2].theme,Ee(()=>o=!1)),a.$set(K);const A={};v&2&&(A.title=p[1]("settings.language.title")),!h&&v&4&&(h=!0,A.value=p[2].locale,Ee(()=>h=!1)),f.$set(A);const C={};v&2&&(C.title=p[1]("settings.maps.title")),!b&&v&4&&(b=!0,C.value=p[2].maps_provider,Ee(()=>b=!1)),S.$set(C)},i(p){M||($(a.$$.fragment,p),$(f.$$.fragment,p),$(S.$$.fragment,p),M=!0)},o(p){k(a.$$.fragment,p),k(f.$$.fragment,p),k(S.$$.fragment,p),M=!1},d(p){p&&(y(e),y(l),y(i),y(r),y(u),y(c),y(m),y(j)),z&&z.d(p),E(a),E(f),E(S)}}}function fn(s,e,t){let n,l;H(s,ee,m=>t(1,n=m)),H(s,Y,m=>t(2,l=m));let i=!1,r=["light","dark","system"].map(m=>({value:m,name:n("settings.theme."+m)})),a=Object.entries(nn).map(m=>({value:m[0],name:m[1]})),o=Object.values(St).map(m=>({name:m.name,value:m.key}));function u(m){s.$$.not_equal(l.theme,m)&&(l.theme=m,Y.set(l))}function c(m){s.$$.not_equal(l.locale,m)&&(l.locale=m,Y.set(l))}const f=()=>t(0,i=!0);function h(m){s.$$.not_equal(l.maps_provider,m)&&(l.maps_provider=m,Y.set(l))}return[i,n,l,r,a,o,u,c,f,h]}let _n=class extends U{constructor(e){super(),V(this,e,fn,cn,W,{})}};function gn(s){let e,t,n,l,i,r;const a=s[3].default,o=Me(a,s,s[2],null);return{c(){e=d("div"),o&&o.c(),t=L(),n=d("div"),l=O(s[0]),g(n,"class","text svelte-1y0ao89"),g(n,"role","tooltip"),g(e,"class",i="tooltip "+s[1]+" svelte-1y0ao89"),g(e,"tabindex","0")},m(u,c){w(u,e,c),o&&o.m(e,null),_(e,t),_(e,n),_(n,l),r=!0},p(u,[c]){o&&o.p&&(!r||c&4)&&qe(o,a,u,u[2],r?ze(a,u[2],c,null):Ce(u[2]),null),(!r||c&1)&&P(l,u[0]),(!r||c&2&&i!==(i="tooltip "+u[1]+" svelte-1y0ao89"))&&g(e,"class",i)},i(u){r||($(o,u),r=!0)},o(u){k(o,u),r=!1},d(u){u&&y(e),o&&o.d(u)}}}function mn(s,e,t){let{$$slots:n={},$$scope:l}=e,{text:i="",position:r="top"}=e;return s.$$set=a=>{"text"in a&&t(0,i=a.text),"position"in a&&t(1,r=a.position),"$$scope"in a&&t(2,l=a.$$scope)},[i,r,l,n]}class Lt extends U{constructor(e){super(),V(this,e,mn,gn,W,{text:0,position:1})}}function hn(s){let e,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"/><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/></g>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],l={};for(let i=0;i<n.length;i+=1)l=Z(l,n[i]);return{c(){e=he("svg"),te(e,l)},m(i,r){w(i,e,r),e.innerHTML=t},p(i,[r]){te(e,l=de(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&i[0]]))},i:R,o:R,d(i){i&&y(e)}}}function dn(s,e,t){return s.$$set=n=>{t(0,e=Z(Z({},e),ne(n)))},e=ne(e),[e]}class pn extends U{constructor(e){super(),V(this,e,dn,hn,W,{})}}function vn(s){let e,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 7l6-3l6 3l6-3v13l-6 3l-6-3l-6 3V7m6-3v13m6-10v13"/>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],l={};for(let i=0;i<n.length;i+=1)l=Z(l,n[i]);return{c(){e=he("svg"),te(e,l)},m(i,r){w(i,e,r),e.innerHTML=t},p(i,[r]){te(e,l=de(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&i[0]]))},i:R,o:R,d(i){i&&y(e)}}}function $n(s,e,t){return s.$$set=n=>{t(0,e=Z(Z({},e),ne(n)))},e=ne(e),[e]}let wn=class extends U{constructor(e){super(),V(this,e,$n,vn,W,{})}};function yn(s){let e,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2c2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2a4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6c-.6.6-.6 1.2-.5 2V21"/>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],l={};for(let i=0;i<n.length;i+=1)l=Z(l,n[i]);return{c(){e=he("svg"),te(e,l)},m(i,r){w(i,e,r),e.innerHTML=t},p(i,[r]){te(e,l=de(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&i[0]]))},i:R,o:R,d(i){i&&y(e)}}}function kn(s,e,t){return s.$$set=n=>{t(0,e=Z(Z({},e),ne(n)))},e=ne(e),[e]}class bn extends U{constructor(e){super(),V(this,e,kn,yn,W,{})}}function Sn(s){let e,t;return e=new wn({props:{width:"20",height:"20"}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p:R,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Ln(s){let e,t,n,l,i,r=s[0].current_city.name+"",a,o,u,c=s[0].current_city.country+"",f,h,m,j,S,b,M,z,N,F,Q,G,q,I,p,v;j=new Lt({props:{position:"right",text:s[3]("header.maps.tooltip"),$$slots:{default:[Sn]},$$scope:{ctx:s}}}),z=new pn({props:{width:"30",height:"30"}}),G=new bn({props:{width:"30",height:"30"}});const K=s[4].default,A=Me(K,s,s[6],null);return{c(){e=d("div"),t=d("div"),n=d("div"),l=d("div"),i=d("h4"),a=O(r),o=L(),u=d("span"),f=O(c),h=L(),m=d("a"),T(j.$$.fragment),S=L(),b=d("div"),M=d("a"),T(z.$$.fragment),F=L(),Q=d("a"),T(G.$$.fragment),q=L(),A&&A.c(),g(i,"class","svelte-6aeqwj"),g(u,"class","svelte-6aeqwj"),g(l,"class","city-name svelte-6aeqwj"),g(m,"class","map svelte-6aeqwj"),g(m,"href",s[2]),g(n,"class","city svelte-6aeqwj"),g(M,"href",N=s[1]?"/":"/settings"),g(M,"class","settings svelte-6aeqwj"),g(M,"alt","settings toggle"),g(M,"tabindex","0"),g(Q,"href","https://github.com/istudyatuni/weather-site"),g(Q,"alt","github"),g(Q,"class","github svelte-6aeqwj"),g(Q,"tabindex","0"),g(b,"class","inline svelte-6aeqwj"),g(t,"class","inline svelte-6aeqwj"),g(e,"class","grid-item svelte-6aeqwj")},m(C,D){w(C,e,D),_(e,t),_(t,n),_(n,l),_(l,i),_(i,a),_(l,o),_(l,u),_(u,f),_(n,h),_(n,m),B(j,m,null),_(t,S),_(t,b),_(b,M),B(z,M,null),_(b,F),_(b,Q),B(G,Q,null),_(e,q),A&&A.m(e,null),I=!0,p||(v=X(M,"click",s[5]),p=!0)},p(C,[D]){(!I||D&1)&&r!==(r=C[0].current_city.name+"")&&P(a,r),(!I||D&1)&&c!==(c=C[0].current_city.country+"")&&P(f,c);const se={};D&8&&(se.text=C[3]("header.maps.tooltip")),D&64&&(se.$$scope={dirty:D,ctx:C}),j.$set(se),(!I||D&4)&&g(m,"href",C[2]),(!I||D&2&&N!==(N=C[1]?"/":"/settings"))&&g(M,"href",N),A&&A.p&&(!I||D&64)&&qe(A,K,C,C[6],I?ze(K,C[6],D,null):Ce(C[6]),null)},i(C){I||($(j.$$.fragment,C),$(z.$$.fragment,C),$(G.$$.fragment,C),$(A,C),I=!0)},o(C){k(j.$$.fragment,C),k(z.$$.fragment,C),k(G.$$.fragment,C),k(A,C),I=!1},d(C){C&&y(e),E(j),E(z),E(G),A&&A.d(C),p=!1,v()}}}function jn(s,e,t){let n,l,i;H(s,Y,c=>t(0,l=c)),H(s,ee,c=>t(3,i=c));let{$$slots:r={},$$scope:a}=e,o=!0;const u=()=>t(1,o=!o);return s.$$set=c=>{"$$scope"in c&&t(6,a=c.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&t(2,n=an(l.maps_provider,l.current_city.lat,l.current_city.lon))},[l,o,n,i,r,u,a]}class Mn extends U{constructor(e){super(),V(this,e,jn,Ln,W,{})}}function qn(s){return{c:R,m:R,p:R,i:R,o:R,d:R}}function Cn(s){let e,t,n;var l=s[1].default;function i(r,a){return{}}return l&&(e=We(l,i())),{c(){e&&T(e.$$.fragment),t=oe()},m(r,a){e&&B(e,r,a),w(r,t,a),n=!0},p(r,a){if(a&1&&l!==(l=r[1].default)){if(e){le();const o=e;k(o.$$.fragment,1,0,()=>{E(o,1)}),ie()}l?(e=We(l,i()),T(e.$$.fragment),$(e.$$.fragment,1),B(e,t.parentNode,t)):e=null}},i(r){n||(e&&$(e.$$.fragment,r),n=!0)},o(r){e&&k(e.$$.fragment,r),n=!1},d(r){r&&y(t),e&&E(e,r)}}}function zn(s){let e;return{c(){e=O("Loading...")},m(t,n){w(t,e,n)},p:R,i:R,o:R,d(t){t&&y(e)}}}function Tn(s){let e,t,n,l={ctx:s,current:null,token:null,hasCatch:!1,pending:zn,then:Cn,catch:qn,value:1,blocks:[,,,]};return Ve(t=s[0].then?s[0]:s[0](),l),{c(){e=oe(),l.block.c()},m(i,r){w(i,e,r),l.block.m(i,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(i,[r]){s=i,l.ctx=s,r&1&&t!==(t=s[0].then?s[0]:s[0]())&&Ve(t,l)||Rt(l,s,r)},i(i){n||($(l.block),n=!0)},o(i){for(let r=0;r<3;r+=1){const a=l.blocks[r];k(a)}n=!1},d(i){i&&y(e),l.block.d(i),l.token=null,l=null}}}function Bn(s,e,t){let{component:n}=e;return s.$$set=l=>{"component"in l&&t(0,n=l.component)},[n]}class En extends U{constructor(e){super(),V(this,e,Bn,Tn,W,{component:0})}}function In(s){let e,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 16v.01M12 13a2 2 0 0 0 .914-3.782a1.98 1.98 0 0 0-2.414.483"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/></g>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],l={};for(let i=0;i<n.length;i+=1)l=Z(l,n[i]);return{c(){e=he("svg"),te(e,l)},m(i,r){w(i,e,r),e.innerHTML=t},p(i,[r]){te(e,l=de(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&i[0]]))},i:R,o:R,d(i){i&&y(e)}}}function On(s,e,t){return s.$$set=n=>{t(0,e=Z(Z({},e),ne(n)))},e=ne(e),[e]}class Rn extends U{constructor(e){super(),V(this,e,On,In,W,{})}}const Dn=s=>({}),nt=s=>({}),Nn=s=>({}),st=s=>({});function lt(s){let e,t,n;return t=new Lt({props:{text:s[1],$$slots:{default:[Pn]},$$scope:{ctx:s}}}),{c(){e=d("span"),T(t.$$.fragment),g(e,"class","help svelte-1ur4628")},m(l,i){w(l,e,i),B(t,e,null),n=!0},p(l,i){const r={};i&2&&(r.text=l[1]),i&8&&(r.$$scope={dirty:i,ctx:l}),t.$set(r)},i(l){n||($(t.$$.fragment,l),n=!0)},o(l){k(t.$$.fragment,l),n=!1},d(l){l&&y(e),E(t)}}}function Pn(s){let e,t;return e=new Rn({props:{width:"20",height:"20"}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p:R,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function An(s){let e,t,n,l,i,r,a,o,u,c,f=s[1]&&lt(s);const h=s[2].value,m=Me(h,s,s[3],st),j=s[2].content,S=Me(j,s,s[3],nt);return{c(){e=d("div"),t=d("p"),n=d("span"),l=O(s[0]),i=L(),f&&f.c(),r=L(),a=d("div"),o=d("p"),m&&m.c(),u=L(),S&&S.c(),g(t,"class","title svelte-1ur4628"),g(o,"class","value svelte-1ur4628"),g(a,"class","data svelte-1ur4628"),g(e,"class","wrapper svelte-1ur4628")},m(b,M){w(b,e,M),_(e,t),_(t,n),_(n,l),_(t,i),f&&f.m(t,null),_(e,r),_(e,a),_(a,o),m&&m.m(o,null),_(a,u),S&&S.m(a,null),c=!0},p(b,[M]){(!c||M&1)&&P(l,b[0]),b[1]?f?(f.p(b,M),M&2&&$(f,1)):(f=lt(b),f.c(),$(f,1),f.m(t,null)):f&&(le(),k(f,1,1,()=>{f=null}),ie()),m&&m.p&&(!c||M&8)&&qe(m,h,b,b[3],c?ze(h,b[3],M,Nn):Ce(b[3]),st),S&&S.p&&(!c||M&8)&&qe(S,j,b,b[3],c?ze(j,b[3],M,Dn):Ce(b[3]),nt)},i(b){c||($(f),$(m,b),$(S,b),c=!0)},o(b){k(f),k(m,b),k(S,b),c=!1},d(b){b&&y(e),f&&f.d(),m&&m.d(b),S&&S.d(b)}}}function Hn(s,e,t){let{$$slots:n={},$$scope:l}=e,{title:i,help:r=null}=e;return s.$$set=a=>{"title"in a&&t(0,i=a.title),"help"in a&&t(1,r=a.help),"$$scope"in a&&t(3,l=a.$$scope)},[i,r,n,l]}class ce extends U{constructor(e){super(),V(this,e,Hn,An,W,{title:0,help:1})}}function Un(s){let e,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 7v3h3l3-3h-3V4zm0 3l-9 9m0-4v4h4"/>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],l={};for(let i=0;i<n.length;i+=1)l=Z(l,n[i]);return{c(){e=he("svg"),te(e,l)},m(i,r){w(i,e,r),e.innerHTML=t},p(i,[r]){te(e,l=de(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&i[0]]))},i:R,o:R,d(i){i&&y(e)}}}function Vn(s,e,t){return s.$$set=n=>{t(0,e=Z(Z({},e),ne(n)))},e=ne(e),[e]}class Wn extends U{constructor(e){super(),V(this,e,Vn,Un,W,{})}}function Fn(s){let e,t=(s[0]??"-.-")+"",n,l,i,r=s[3]("highlights.measure.m_in_s")+"",a;return{c(){e=d("div"),n=O(t),l=L(),i=d("span"),a=O(r),g(i,"class","measure"),g(e,"slot","value")},m(o,u){w(o,e,u),_(e,n),_(e,l),_(e,i),_(i,a)},p(o,u){u&1&&t!==(t=(o[0]??"-.-")+"")&&P(n,t),u&8&&r!==(r=o[3]("highlights.measure.m_in_s")+"")&&P(a,r)},d(o){o&&y(e)}}}function Gn(s){let e;return{c(){e=O("--")},m(t,n){w(t,e,n)},p:R,d(t){t&&y(e)}}}function Kn(s){let e=s[3]("highlights.compass_directions."+Xe(s[1]))+"",t;return{c(){t=O(e)},m(n,l){w(n,t,l)},p(n,l){l&10&&e!==(e=n[3]("highlights.compass_directions."+Xe(n[1]))+"")&&P(t,e)},d(n){n&&y(t)}}}function Qn(s){let e,t,n,l,i;t=new Wn({props:{style:`transform: rotate(${s[2]}deg);`,alt:"",width:"30",height:"30"}});function r(u,c){return u[1]!==void 0?Kn:Gn}let a=r(s),o=a(s);return{c(){e=d("div"),T(t.$$.fragment),n=L(),l=d("span"),o.c(),g(l,"class","wind-dir svelte-9jp84z"),g(e,"class","dir-wrapper svelte-9jp84z"),g(e,"slot","content")},m(u,c){w(u,e,c),B(t,e,null),_(e,n),_(e,l),o.m(l,null),i=!0},p(u,c){const f={};c&4&&(f.style=`transform: rotate(${u[2]}deg);`),t.$set(f),a===(a=r(u))&&o?o.p(u,c):(o.d(1),o=a(u),o&&(o.c(),o.m(l,null)))},i(u){i||($(t.$$.fragment,u),i=!0)},o(u){k(t.$$.fragment,u),i=!1},d(u){u&&y(e),E(t),o.d()}}}function Jn(s){let e,t;return e=new ce({props:{title:s[3]("highlights.wind_status"),$$slots:{content:[Qn],value:[Fn]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,[l]){const i={};l&8&&(i.title=n[3]("highlights.wind_status")),l&31&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Zn(s,e,t){let n,l;H(s,ee,a=>t(3,l=a));let{speed:i,deg:r=0}=e;return s.$$set=a=>{"speed"in a&&t(0,i=a.speed),"deg"in a&&t(1,r=a.deg)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n=135+r)},[i,r,n,l]}class Xn extends U{constructor(e){super(),V(this,e,Zn,Jn,W,{speed:0,deg:1})}}function Yn(s){let e=(s[0]??"-.-")+"",t,n,l,i=s[2](`highlights.measure.${s[1]}`)+"",r;return{c(){t=O(e),n=L(),l=d("span"),r=O(i),g(l,"class","measure")},m(a,o){w(a,t,o),w(a,n,o),w(a,l,o),_(l,r)},p(a,o){o&1&&e!==(e=(a[0]??"-.-")+"")&&P(t,e),o&6&&i!==(i=a[2](`highlights.measure.${a[1]}`)+"")&&P(r,i)},d(a){a&&(y(t),y(n),y(l))}}}function xn(s){let e,t;return e=new ce({props:{title:s[2]("highlights.visibility"),$$slots:{value:[Yn]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,[l]){const i={};l&4&&(i.title=n[2]("highlights.visibility")),l&39&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function es(s,e,t){let n,l,i,r;H(s,ee,o=>t(2,r=o));let{meters:a}=e;return s.$$set=o=>{"meters"in o&&t(3,a=o.meters)},s.$$.update=()=>{s.$$.dirty&8&&t(4,n=(a??0)>=1e3),s.$$.dirty&16&&t(1,l=n?"km":"m"),s.$$.dirty&24&&t(0,i=n?a/1e3:a)},[i,l,r,a,n]}class ts extends U{constructor(e){super(),V(this,e,es,xn,W,{meters:3})}}function ns(s){let e,t,n,l,i,r,a,o,u;return{c(){e=d("div"),t=d("div"),n=d("div"),l=O(s[0]),i=L(),r=d("div"),a=L(),o=d("div"),g(n,"class","value svelte-p9scgd"),g(r,"class","pointer svelte-p9scgd"),g(t,"class","icon svelte-p9scgd"),Oe(t,"margin-left",s[0]*s[2]+"px"),g(o,"class","bar svelte-p9scgd"),g(e,"slot","content"),g(e,"class","wrapper svelte-p9scgd"),mt(()=>s[4].call(e))},m(c,f){w(c,e,f),_(e,t),_(t,n),_(n,l),_(t,i),_(t,r),_(e,a),_(e,o),u=Dt(e,s[4].bind(e))},p(c,f){f&1&&P(l,c[0]),f&5&&Oe(t,"margin-left",c[0]*c[2]+"px")},d(c){c&&y(e),u()}}}function ss(s){let e,t;return e=new ce({props:{title:s[3]("highlights.uv_index.title"),help:s[3]("highlights.uv_index.help"),$$slots:{content:[ns]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,[l]){const i={};l&8&&(i.title=n[3]("highlights.uv_index.title")),l&8&&(i.help=n[3]("highlights.uv_index.help")),l&39&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function ls(s,e,t){let n,l;H(s,ee,o=>t(3,l=o));let{uv:i=0}=e,r=0;function a(){r=this.clientWidth,t(1,r)}return s.$$set=o=>{"uv"in o&&t(0,i=o.uv)},s.$$.update=()=>{s.$$.dirty&2&&t(2,n=(r-6)/12)},[i,r,n,l,a]}class is extends U{constructor(e){super(),V(this,e,ls,ss,W,{uv:0})}}function rs(s){let e,t,n,l=s[2]("highlights.sun.sunrise")+"",i,r,a,o=(s[0]?_e(s[0]):"--:--")+"",u,c,f,h,m=s[2]("highlights.sun.sunset")+"",j,S,b,M=(s[1]?_e(s[1]):"--:--")+"",z;return{c(){e=d("div"),t=d("p"),n=d("span"),i=O(l),r=O(":"),a=L(),u=O(o),c=L(),f=d("p"),h=d("span"),j=O(m),S=O(":"),b=L(),z=O(M),g(n,"class","svelte-2f7yy4"),g(t,"class","time svelte-2f7yy4"),g(h,"class","svelte-2f7yy4"),g(f,"class","time svelte-2f7yy4"),g(e,"slot","content")},m(N,F){w(N,e,F),_(e,t),_(t,n),_(n,i),_(n,r),_(t,a),_(t,u),_(e,c),_(e,f),_(f,h),_(h,j),_(h,S),_(f,b),_(f,z)},p(N,F){F&4&&l!==(l=N[2]("highlights.sun.sunrise")+"")&&P(i,l),F&1&&o!==(o=(N[0]?_e(N[0]):"--:--")+"")&&P(u,o),F&4&&m!==(m=N[2]("highlights.sun.sunset")+"")&&P(j,m),F&2&&M!==(M=(N[1]?_e(N[1]):"--:--")+"")&&P(z,M)},d(N){N&&y(e)}}}function as(s){let e,t;return e=new ce({props:{title:s[2]("highlights.sun.title"),$$slots:{content:[rs]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,[l]){const i={};l&4&&(i.title=n[2]("highlights.sun.title")),l&15&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function os(s,e,t){let n;H(s,ee,r=>t(2,n=r));let{sunrise:l,sunset:i}=e;return s.$$set=r=>{"sunrise"in r&&t(0,l=r.sunrise),"sunset"in r&&t(1,i=r.sunset)},[l,i,n]}class us extends U{constructor(e){super(),V(this,e,os,as,W,{sunrise:0,sunset:1})}}function cs(s){let e=(s[0]??"--")+"",t,n,l;return{c(){t=O(e),n=L(),l=d("span"),l.textContent="%",g(l,"class","measure top")},m(i,r){w(i,t,r),w(i,n,r),w(i,l,r)},p(i,r){r&1&&e!==(e=(i[0]??"--")+"")&&P(t,e)},d(i){i&&(y(t),y(n),y(l))}}}function fs(s){let e,t;return e=new ce({props:{title:s[1]("highlights.humidity.title"),help:s[1]("highlights.humidity.help"),$$slots:{value:[cs]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,[l]){const i={};l&2&&(i.title=n[1]("highlights.humidity.title")),l&2&&(i.help=n[1]("highlights.humidity.help")),l&5&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function _s(s,e,t){let n;H(s,ee,i=>t(1,n=i));let{percentage:l}=e;return s.$$set=i=>{"percentage"in i&&t(0,l=i.percentage)},[l,n]}class gs extends U{constructor(e){super(),V(this,e,_s,fs,W,{percentage:0})}}function ms(s){let e,t;return e=new ce({props:{title:s[0]("highlights.air_quality")}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,[l]){const i={};l&1&&(i.title=n[0]("highlights.air_quality")),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function hs(s,e,t){let n;return H(s,ee,l=>t(0,n=l)),[n]}class ds extends U{constructor(e){super(),V(this,e,hs,ms,W,{})}}function ps(s){var z,N,F,Q,G;let e,t=s[1]("highlights.title")+"",n,l,i,r,a,o,u,c,f,h,m,j,S,b,M;return r=new Xn({props:{speed:(z=s[0].wind)==null?void 0:z.speed,deg:(N=s[0].wind)==null?void 0:N.deg}}),o=new is({props:{uv:s[0].uv_index}}),c=new us({props:{sunrise:(F=s[0])==null?void 0:F.sunrise,sunset:(Q=s[0])==null?void 0:Q.sunset}}),h=new gs({props:{percentage:(G=s[0].main)==null?void 0:G.humidity}}),j=new ts({props:{meters:s[0].visibility}}),b=new ds({}),{c(){e=d("h3"),n=O(t),l=L(),i=d("div"),T(r.$$.fragment),a=L(),T(o.$$.fragment),u=L(),T(c.$$.fragment),f=L(),T(h.$$.fragment),m=L(),T(j.$$.fragment),S=L(),T(b.$$.fragment),g(i,"class","grid svelte-1y0h5cp")},m(q,I){w(q,e,I),_(e,n),w(q,l,I),w(q,i,I),B(r,i,null),_(i,a),B(o,i,null),_(i,u),B(c,i,null),_(i,f),B(h,i,null),_(i,m),B(j,i,null),_(i,S),B(b,i,null),M=!0},p(q,[I]){var D,se,fe,J,x;(!M||I&2)&&t!==(t=q[1]("highlights.title")+"")&&P(n,t);const p={};I&1&&(p.speed=(D=q[0].wind)==null?void 0:D.speed),I&1&&(p.deg=(se=q[0].wind)==null?void 0:se.deg),r.$set(p);const v={};I&1&&(v.uv=q[0].uv_index),o.$set(v);const K={};I&1&&(K.sunrise=(fe=q[0])==null?void 0:fe.sunrise),I&1&&(K.sunset=(J=q[0])==null?void 0:J.sunset),c.$set(K);const A={};I&1&&(A.percentage=(x=q[0].main)==null?void 0:x.humidity),h.$set(A);const C={};I&1&&(C.meters=q[0].visibility),j.$set(C)},i(q){M||($(r.$$.fragment,q),$(o.$$.fragment,q),$(c.$$.fragment,q),$(h.$$.fragment,q),$(j.$$.fragment,q),$(b.$$.fragment,q),M=!0)},o(q){k(r.$$.fragment,q),k(o.$$.fragment,q),k(c.$$.fragment,q),k(h.$$.fragment,q),k(j.$$.fragment,q),k(b.$$.fragment,q),M=!1},d(q){q&&(y(e),y(l),y(i)),E(r),E(o),E(c),E(h),E(j),E(b)}}}function vs(s,e,t){let n,l,i;return H(s,ae,r=>t(2,l=r)),H(s,ee,r=>t(1,i=r)),s.$$.update=()=>{var r;s.$$.dirty&4&&t(0,n=((r=l==null?void 0:l.current)==null?void 0:r.content)||{})},[n,i,l]}class $s extends U{constructor(e){super(),V(this,e,vs,ps,W,{})}}const ws={"01d":"weather_sun_sunny_temperature","01n":"weather_night_moon_moonlight","02d":"clouds_sun_sunny_weather","02n":"moon_weather_clouds_cloudy","03d":"clouds_sun_sunny_weather","03n":"moon_weather_clouds_cloudy","04d":"cloudy_weather_clouds_cloud","04n":"cloudy_weather_clouds_cloud","09d":"rain_cloud_drizzel_weather","09n":"rain_cloud_drizzel_weather","10d":"rain_storm_shower_weather","10n":"rain_storm_shower_weather","11d":"storm_weather_night_clouds","11n":"storm_weather_night_clouds","13d":"winter_snowflake_christmas_xmas_weather_snow","13n":"moon_weather_snow_night","50d":"foggy_weather_fog_clouds_cloudy","50n":"foggy_weather_fog_clouds_cloudy"},ys={0:"01",1:"02",2:"03",3:"04",45:"50",48:"50",51:"50",53:"50",55:"50",56:"50",57:"50",61:"09",63:"09",65:"10",66:"09",67:"10",71:"13",73:"13",75:"13",77:"13",80:"10",81:"10",82:"10",85:"13",86:"13",95:"11",96:"11",99:"11"};function it(s){return`icons/weather-icons/32/${ws[s]}.svg`}function ks(s,e){let t=e?"d":"n";return ys[s]+t}function bs(s){let e,t,n,l=s[0].name+"",i,r,a,o,u,c=(s[0].admin||"")+"",f,h,m;return{c(){e=d("div"),t=d("div"),n=d("span"),i=O(l),r=L(),a=d("span"),a.textContent="×",o=L(),u=d("div"),f=O(c),g(a,"role","button"),g(a,"tabindex","0"),g(a,"class","svelte-7wu9tj"),Fe(a,"hidden",!s[1]),g(t,"class","flex svelte-7wu9tj"),g(u,"class","details svelte-7wu9tj"),g(e,"class","outer svelte-7wu9tj"),g(e,"role","button"),g(e,"tabindex","0")},m(j,S){w(j,e,S),_(e,t),_(t,n),_(n,i),_(t,r),_(t,a),_(e,o),_(e,u),_(u,f),h||(m=[X(a,"click",Ge(s[3])),X(a,"keypress",Ge(s[3])),X(e,"click",s[2]),X(e,"keypress",s[2])],h=!0)},p(j,[S]){S&1&&l!==(l=j[0].name+"")&&P(i,l),S&2&&Fe(a,"hidden",!j[1]),S&1&&c!==(c=(j[0].admin||"")+"")&&P(f,c)},i:R,o:R,d(j){j&&y(e),h=!1,Ne(m)}}}function Ss(s,e,t){let{city:n={},allow_delete:l=!1}=e;const i=Nt();function r(u){return c=>{c.type==="keypress"&&c.code!=="Enter"||i(u,n)}}let a=r("select"),o=r("deletion");return s.$$set=u=>{"city"in u&&t(0,n=u.city),"allow_delete"in u&&t(1,l=u.allow_delete)},[n,l,a,o]}class jt extends U{constructor(e){super(),V(this,e,Ss,bs,W,{city:0,allow_delete:1})}}const Ls="https://geocoding-api.open-meteo.com/v1/search",js=5;async function Ms(s,e=js){const t=new URLSearchParams;t.set("count",e),t.set("language",Te()),t.set("name",s),Se(Le.info,"fetching geocoding api");const n=await fetch(Ls+"?"+t.toString());kt(n.url);const l=await n.json();n.ok?l.results!==void 0&&ae.set("geocoding",qs(l.results)):(l.error===!0&&Se(Le.error,"error quering geocoding api:",l.reason),Se(Le.error,"error quering geocoding api"))}function qs(s){return s.map(e=>{let t={id:e.id,name:[e.name,e.country].filter(n=>(n??"")!=="").join(", "),details:{name:e.name,country:e.country},lat:e.latitude,lon:e.longitude};return e.admin1!==void 0&&e.admin1!==e.name&&(t.admin=e.admin1),t})}const Cs="https://api.open-meteo.com/v1/forecast",zs=20,Ts={current:["temperature_2m","relativehumidity_2m","is_day","weathercode","windspeed_10m","winddirection_10m"],hourly:["visibility"],daily:["sunrise","sunset","uv_index_max"],windspeed_unit:"ms",forecast_days:1};async function Mt(s=!1){var r,a;const e=new Date;if(!s&&((a=(r=re(ae))==null?void 0:r.current)==null?void 0:a.until)>e.getTime())return;const t=re(Y),n=new URLSearchParams;n.set("latitude",t.current_city.lat),n.set("longitude",t.current_city.lon),n.set("timezone",t.tz);for(let[o,u]of Object.entries(Ts))n.set(o,u);Se(Le.info,"fetching weather api for",t.current_city.name);const l=await fetch(Cs+"?"+n.toString());kt(l.url);const i=await l.json();l.ok?(e.setMinutes(e.getMinutes()+zs),ae.set("current",{content:Bs(i),until:e.getTime()})):(alert(i.message),i.message==="city not found"&&Y.delete("current_city"))}function Bs(s){let e=new Date().getHours();return{weather:{weathercode:s.current.weathercode,icon:ks(s.current.weathercode,s.current.is_day)},main:{temp:s.current.temperature_2m,humidity:s.current.relativehumidity_2m},visibility:s.hourly.visibility[e],wind:{speed:s.current.windspeed_10m,deg:s.current.winddirection_10m},sunrise:s.daily.sunrise[0],sunset:s.daily.sunset[0],uv_index:s.daily.uv_index_max[0]}}function rt(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function at(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function ot(s){let e,t,n,l,i;const r=[Is,Es],a=[];function o(u,c){return c&128&&(e=null),e==null&&(e=!!Re(u[7].geocoding)),e?0:1}return t=o(s,-1),n=a[t]=r[t](s),{c(){n.c(),l=oe()},m(u,c){a[t].m(u,c),w(u,l,c),i=!0},p(u,c){let f=t;t=o(u,c),t===f?a[t].p(u,c):(le(),k(a[f],1,1,()=>{a[f]=null}),ie(),n=a[t],n?n.p(u,c):(n=a[t]=r[t](u),n.c()),$(n,1),n.m(l.parentNode,l))},i(u){i||($(n),i=!0)},o(u){k(n),i=!1},d(u){u&&y(l),a[t].d(u)}}}function Es(s){let e,t=s[6]("search_city.no_cities_found")+"",n;return{c(){e=d("div"),n=O(t),g(e,"class","no-cities-found svelte-194tzog")},m(l,i){w(l,e,i),_(e,n)},p(l,i){i&64&&t!==(t=l[6]("search_city.no_cities_found")+"")&&P(n,t)},i:R,o:R,d(l){l&&y(e)}}}function Is(s){let e,t=[],n=new Map,l,i=ue(s[7].geocoding);const r=a=>a[25];for(let a=0;a<i.length;a+=1){let o=at(s,i,a),u=r(o);n.set(u,t[a]=ut(u,o))}return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();g(e,"class","cities-list svelte-194tzog")},m(a,o){w(a,e,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(a,o){o&640&&(i=ue(a[7].geocoding),le(),t=ht(t,o,r,1,a,i,n,e,dt,ut,null,at),ie())},i(a){if(!l){for(let o=0;o<i.length;o+=1)$(t[o]);l=!0}},o(a){for(let o=0;o<t.length;o+=1)k(t[o]);l=!1},d(a){a&&y(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ut(s,e){let t,n,l;return n=new jt({props:{city:e[23]}}),n.$on("select",e[9]),{key:s,first:null,c(){t=oe(),T(n.$$.fragment),this.first=t},m(i,r){w(i,t,r),B(n,i,r),l=!0},p(i,r){e=i;const a={};r&128&&(a.city=e[23]),n.$set(a)},i(i){l||($(n.$$.fragment,i),l=!0)},o(i){k(n.$$.fragment,i),l=!1},d(i){i&&y(t),E(n,i)}}}function ct(s){let e,t=[],n=new Map,l,i=ue(s[5].slice(0,_t));const r=a=>a[25];for(let a=0;a<i.length;a+=1){let o=rt(s,i,a),u=r(o);n.set(u,t[a]=ft(u,o))}return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();g(e,"class","cities-list svelte-194tzog")},m(a,o){w(a,e,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(a,o){o&3104&&(i=ue(a[5].slice(0,_t)),le(),t=ht(t,o,r,1,a,i,n,e,dt,ft,null,rt),ie())},i(a){if(!l){for(let o=0;o<i.length;o+=1)$(t[o]);l=!0}},o(a){for(let o=0;o<t.length;o+=1)k(t[o]);l=!1},d(a){a&&y(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ft(s,e){let t,n,l;return n=new jt({props:{city:e[23],allow_delete:!0}}),n.$on("select",e[10]),n.$on("deletion",e[17]),{key:s,first:null,c(){t=oe(),T(n.$$.fragment),this.first=t},m(i,r){w(i,t,r),B(n,i,r),l=!0},p(i,r){e=i;const a={};r&32&&(a.city=e[23]),n.$set(a)},i(i){l||($(n.$$.fragment,i),l=!0)},o(i){k(n.$$.fragment,i),l=!1},d(i){i&&y(t),E(n,i)}}}function Os(s){let e,t,n,l,i=s[3]&&!s[2]&&Re(s[1].searches),r,a,o,u,c=s[2]&&ot(s),f=i&&ct(s);return{c(){e=d("input"),n=L(),c&&c.c(),l=L(),f&&f.c(),r=oe(),g(e,"type","text"),g(e,"name","search"),g(e,"placeholder",t=s[6]("search_city.placeholder")),g(e,"class","svelte-194tzog")},m(h,m){w(h,e,m),s[12](e),je(e,s[0]),w(h,n,m),c&&c.m(h,m),w(h,l,m),f&&f.m(h,m),w(h,r,m),a=!0,o||(u=[X(e,"input",s[13]),X(e,"keyup",s[8]),X(e,"click",s[14]),X(e,"focusin",s[15]),X(e,"input",s[16])],o=!0)},p(h,[m]){(!a||m&64&&t!==(t=h[6]("search_city.placeholder")))&&g(e,"placeholder",t),m&1&&e.value!==h[0]&&je(e,h[0]),h[2]?c?(c.p(h,m),m&4&&$(c,1)):(c=ot(h),c.c(),$(c,1),c.m(l.parentNode,l)):c&&(le(),k(c,1,1,()=>{c=null}),ie()),m&14&&(i=h[3]&&!h[2]&&Re(h[1].searches)),i?f?(f.p(h,m),m&14&&$(f,1)):(f=ct(h),f.c(),$(f,1),f.m(r.parentNode,r)):f&&(le(),k(f,1,1,()=>{f=null}),ie())},i(h){a||($(c),$(f),a=!0)},o(h){k(c),k(f),a=!1},d(h){h&&(y(e),y(n),y(l),y(r)),s[12](null),c&&c.d(h),f&&f.d(h),o=!1,Ne(u)}}}const _t=5;function Rs(s,e,t){let n,l,i,r,a;H(s,be,v=>t(1,l=v)),H(s,ge,v=>t(18,i=v)),H(s,ee,v=>t(6,r=v)),H(s,ae,v=>t(7,a=v));let o="",u=!1,c=!1,f=null;function h(){f.focus()}async function m(){ae.set("geocoding",{}),await Ms(o.trim()),t(2,u=!0)}function j(v){if(!((v.code===""?v.key:v.code)!=="Enter"||o.trim()==="")){if(o==="debug"){ge.set(!i);return}m()}}function S(v){let{lat:K,lon:A,details:{name:C,country:D}}=v.detail;Y.set("current_city",{lat:K,lon:A,name:C,country:D}),Mt(!0),N(),M(o),t(0,o="")}function b(v){t(0,o=v.detail.name),h(),N(),m()}function M(v){l.searches.find(K=>K.name===v)===void 0&&(l.searches.unshift({name:v}),be.set("searches",l.searches))}function z(v){be.set("searches",l.searches.filter(K=>K.name!==v))}function N(){t(2,u=!1),t(3,c=!1)}function F(v){ye[v?"unshift":"push"](()=>{f=v,t(4,f)})}function Q(){o=this.value,t(0,o)}const G=()=>t(3,c=!0),q=()=>t(3,c=!0),I=()=>t(2,u=!1),p=v=>z(v.detail.name);return s.$$.update=()=>{s.$$.dirty&3&&t(5,n=l.searches.filter(({name:v})=>v.startsWith(o)))},[o,l,u,c,f,n,r,a,j,S,b,z,F,Q,G,q,I,p]}class Ds extends U{constructor(e){super(),V(this,e,Rs,Os,W,{})}}function Ns(s){var se,fe;let e,t,n,l,i,r,a,o,u,c=(((fe=(se=s[0])==null?void 0:se.main)==null?void 0:fe.temp)??"-.-")+"",f,h,m,j,S,b=xt()+"",M,z,N,F,Q,G,q,I,p,v,K,A,C,D;return t=new Ds({}),{c(){e=d("div"),T(t.$$.fragment),n=L(),l=d("div"),i=d("img"),a=L(),o=d("div"),u=d("p"),f=O(c),h=L(),m=d("span"),m.textContent="°C",j=L(),S=d("p"),M=O(b),z=d("span"),N=O(", "),F=O(s[3]),Q=L(),G=d("hr"),q=L(),I=d("div"),p=d("img"),K=L(),A=d("p"),C=O(s[2]),g(i,"class","big-icon svelte-1wr2kcu"),pe(i.src,r=it(s[0].weather.icon))||g(i,"src",r),g(i,"alt",""),g(m,"class","measure svelte-1wr2kcu"),g(u,"class","temperature svelte-1wr2kcu"),g(z,"class","time svelte-1wr2kcu"),g(S,"class","title-case svelte-1wr2kcu"),Oe(o,"margin","auto"),g(l,"class","line svelte-1wr2kcu"),g(G,"class","separator svelte-1wr2kcu"),g(G,"noshade",""),g(G,"size","1"),g(G,"width","100%"),pe(p.src,v=s[1])||g(p,"src",v),g(p,"width","60"),g(p,"height","60"),g(p,"alt",s[2]),g(A,"class","title-case svelte-1wr2kcu"),g(I,"class","description svelte-1wr2kcu"),g(e,"class","container svelte-1wr2kcu")},m(J,x){w(J,e,x),B(t,e,null),_(e,n),_(e,l),_(l,i),_(l,a),_(l,o),_(o,u),_(u,f),_(u,h),_(u,m),_(o,j),_(o,S),_(S,M),_(S,z),_(z,N),_(z,F),_(e,Q),_(e,G),_(e,q),_(e,I),_(I,p),_(I,K),_(I,A),_(A,C),D=!0},p(J,[x]){var Ae,He;(!D||x&1&&!pe(i.src,r=it(J[0].weather.icon)))&&g(i,"src",r),(!D||x&1)&&c!==(c=(((He=(Ae=J[0])==null?void 0:Ae.main)==null?void 0:He.temp)??"-.-")+"")&&P(f,c),(!D||x&8)&&P(F,J[3]),(!D||x&2&&!pe(p.src,v=J[1]))&&g(p,"src",v),(!D||x&4)&&g(p,"alt",J[2]),(!D||x&4)&&P(C,J[2])},i(J){D||($(t.$$.fragment,J),D=!0)},o(J){k(t.$$.fragment,J),D=!1},d(J){J&&y(e),E(t)}}}const Ps={weather:{icon:"01d",weathercode:1}};function As(s,e,t){let n,l,i,r,a,o;return H(s,ee,u=>t(4,r=u)),H(s,ae,u=>t(5,a=u)),H(s,Pe,u=>t(3,o=u)),s.$$.update=()=>{var u;s.$$.dirty&32&&t(0,n=((u=a==null?void 0:a.current)==null?void 0:u.content)||Ps),s.$$.dirty&17&&t(2,l=r(`weather.wmo_description.${n.weather.weathercode}`)),s.$$.dirty&1&&t(1,i=`https://openweathermap.org/img/wn/${n.weather.icon}@2x.png`)},[n,i,l,o,r,a]}class Hs extends U{constructor(e){super(),V(this,e,As,Ns,W,{})}}async function Us(){return(await(await fetch("key.txt")).text()).slice(33,79)}const $e=s=>"`"+s+"`";async function Vs(){const s=["*Visit*","System: "+$e(navigator.platform),"Lang: "+$e(navigator.language),"UserAgent: "+$e(navigator.userAgent),"Referrer: "+$e(document.referrer)].join(`
`),e=new URLSearchParams({chat_id:"-1001738728136",text:s,parse_mode:"markdown"});return(await fetch(`https://api.telegram.org/bot${await Us()}/sendMessage?${e.toString()}`)).ok}async function Ws(){re(Je).w!==1&&(document.cookie="",await Vs()&&Je.set("w",1))}async function Fs(){try{await Ws()}catch(s){console.error(s)}}function gt(s){let e,t,n,l,i;return t=new Hs({}),l=new Mn({props:{$$slots:{default:[Zs]},$$scope:{ctx:s}}}),{c(){e=d("main"),T(t.$$.fragment),n=L(),T(l.$$.fragment),g(e,"class","svelte-1986ubt")},m(r,a){w(r,e,a),B(t,e,null),_(e,n),B(l,e,null),i=!0},i(r){i||($(t.$$.fragment,r),$(l.$$.fragment,r),i=!0)},o(r){k(t.$$.fragment,r),k(l.$$.fragment,r),i=!1},d(r){r&&y(e),E(t),E(l)}}}function Gs(s){let e,t;return e=new $s({}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Ks(s){let e,t;return e=new _n({}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Qs(s){let e,t;return e=new En({props:{component:Ut(()=>import("./Debug-8d29e0ff.js"),["assets/Debug-8d29e0ff.js","assets/vendor-4228fa34.js","assets/Debug-2dc84e11.css"])}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p:R,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Js(s){let e,t,n,l,i,r;return e=new ke({props:{path:"/",$$slots:{default:[Gs]},$$scope:{ctx:s}}}),n=new ke({props:{path:"/settings",$$slots:{default:[Ks]},$$scope:{ctx:s}}}),i=new ke({props:{path:"/debug",$$slots:{default:[Qs]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment),t=L(),T(n.$$.fragment),l=L(),T(i.$$.fragment)},m(a,o){B(e,a,o),w(a,t,o),B(n,a,o),w(a,l,o),B(i,a,o),r=!0},p(a,o){const u={};o&64&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);const c={};o&64&&(c.$$scope={dirty:o,ctx:a}),n.$set(c);const f={};o&64&&(f.$$scope={dirty:o,ctx:a}),i.$set(f)},i(a){r||($(e.$$.fragment,a),$(n.$$.fragment,a),$(i.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(i.$$.fragment,a),r=!1},d(a){a&&(y(t),y(l)),E(e,a),E(n,a),E(i,a)}}}function Zs(s){let e,t;return e=new ke({props:{$$slots:{default:[Js]},$$scope:{ctx:s}}}),{c(){T(e.$$.fragment)},m(n,l){B(e,n,l),t=!0},p(n,l){const i={};l&64&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){E(e,n)}}}function Xs(s){let e,t,n=!s[0]&&gt(s);return{c(){n&&n.c(),e=oe()},m(l,i){n&&n.m(l,i),w(l,e,i),t=!0},p(l,[i]){l[0]?n&&(le(),k(n,1,1,()=>{n=null}),ie()):n?i&1&&$(n,1):(n=gt(l),n.c(),$(n,1),n.m(e.parentNode,e))},i(l){t||($(n),t=!0)},o(l){k(n),t=!1},d(l){l&&y(e),n&&n.d(l)}}}async function Ys(){Qe.set(!0),await Mt(),Qe.set(!1),setTimeout(Fs,2e3)}function we(){return window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)")}function xs(s,e,t){let n,l,i,r;H(s,ge,u=>t(3,l=u)),H(s,Y,u=>t(4,i=u)),H(s,Pt,u=>t(0,r=u));let a=we()&&we().matches;function o(){we()&&we().addEventListener("change",u=>{t(1,a=u.matches)})}return ve.mode.memory(),ve.base("/weather-site"),Zt(),Jt(),rn(),Ys(),o(),s.$$.update=()=>{s.$$.dirty&18&&t(2,n=i.theme==="dark"||i.theme==="system"&&a),s.$$.dirty&4&&(n?document.body.classList.add("dark"):document.body.classList.remove("dark")),s.$$.dirty&8&&(l?ve.goto("/debug"):ve.goto("/"))},[r,a,n,l,i]}class el extends U{constructor(e){super(),V(this,e,xs,Xs,W,{})}}new el({target:document.body});export{nl as a,Xt as b,be as c,Kt as d,Re as i,Qt as l,Y as s};
//# sourceMappingURL=index-798a041a.js.map
